.sell-main__container
  %h2.sell-main__top__title 商品の情報を入力
  = form_with model: @item , local: true do |f|
    .sell-main__image
      .sell-main__image-upload
        %h3.sell-main__image-upload__head 出品画像
        %span.form-require 必須
      %p.sell-main__image-upload__head__explanation 最大10枚までアップロードできます

      -# ドロップボックススタート
      -# サーバーサイドで実装・確認の部分はコメントアウトしております。
      .drop-box
        .drop-upload
          #image-box
            -# = f.fields_for :images do |image|
            -#   .js-file_group{"data-index" => "#{image.index}"}
            -#     %label.js-label{for: "file_upload"} 
            -#       ドラッグアンドドロップ 
            -#       %br またはクリックしてファイルをアップロード
            -#     = image.file_field :src, class: 'js-file', id: "file_upload"
            #previews
              - if @item.persisted?
                - @item.images.each_with_index do |image, i|
                  = image_tag image.src.url, data: { index: i }, width: "100", height: '100'
              = f.fields_for :images do |image|
                .js-file_group{"data-index" => "#{image.index}"}
                %label.js-label{for: "file_upload"} 
                  ドラッグアンドドロップ 
                  %br またはクリックしてファイルをアップロード
                = image.file_field :src, class: 'js-file', id: "file_upload"
                %br/
              - if @item.persisted?
                = image.check_box :_destroy, data:{ index: image.index }, class: 'hidden-destroy'
              - if @item.persisted?
                .js-file_group{"data-index" => "#{@item.images.count}"}
                  = file_field_tag :src, name: "item[images_attributes][#{@item.images.count}][src]", class: 'js-file'
                  .js-remove 削除
          -# .preview
    -# %script{src: "https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"}
    -# :javascript
      
    .sell-main__box
      .sell-main__form
        = f.label :name, "商品名", class: "sell-main__form__label"
        %span.form-neccesary 必須
      = f.text_field :name, class: 'sell-main__form__input', placeholder: '商品名（必須40文字まで）'
    .sell-another-box
      .sell-main__form
        = f.label :description, "商品の説明", class: "sell-main__form__label"
        %span.form-neccesary 必須
      = f.text_area :description, class: 'sell-main__form__input__textarea', placeholder: '商品の説明（必須 1,000文字以内）（色、素材、重さ、定価、注意点など）例）2010年頃に1万円で購入したジャケットです。ライトグレーで傷はありません。あわせやすいのでおすすめです。'

    .sell-main__box
      .sell-main__box__inner
        %h3.sell-main__title 商品の詳細
        .sell-main__form-box 
          .sell-main__form
            = f.label :category, "カテゴリー", class: "sell-main__form__label"
            %span.form-neccesary 必須
            = f.select :category, ['レディース','メンズ', "ベビー・キッズ","インテリア・住まい・小物","本・音楽・ゲーム","おもちゃ・ホビー・グッズ","コスメ・香水・美容","家電・スマホ・カメラ","スポーツ・レジャー","ハンドメイド","チケット","自動車・オートバイ","その他"], {include_blank: '---'}, {class: 'sell-main__form__select', id: 'parent_category'}
            -# カテゴリの設定をしていない為コメントアウト
            -# = f.select :category, @category_parent_array, {}, {class: 'sell-main__form__select', id: 'parent_category'}
            %i.fas.fa-chevron-down.sell-main__form__select__arrow
          .sell-main__form
            = f.label :condition, "商品の状態", class: "sell-main__form__label"
            %span.form-neccesary 必須
            = f.select :condition, ['新品未使用', '未使用に近い', '目立った傷や汚れ無し', 'やや傷や汚れあり', '傷や汚れあり', '全体的に状態が悪い' ], {include_blank: '---'}, class: 'sell-main__form__select'
            %i.fas.fa-chevron-down.sell-main__form__select__arrow

    .sell-main__box
      .sell-main__box__inner
        .sell-main-title-top
          %h3.sell-main__title 配送について
          = link_to "?", "#", class: "form__question" 
        .sell-main__form-box 
          .sell-main__form
            = f.label :cover_postage, "配送料の負担", class: "sell-main__form__label"
            %span.form-neccesary 必須
            = f.select :cover_postage, ['送料込み（出品者負担）', '着払い（購入者負担）'], {include_blank: '---'}, class: 'sell-main__form__select'  
            = icon('fas', 'chevron-down', alt: 'chevron-down',class: 'sell-main__form__select__arrow')

          .sell-main__form
            = f.label :shipping_area, "発送元の地域", class: "sell-main__form__label"
            %span.form-neccesary 必須
            = f.select :shipping_area, Address.prefectures.keys, {prompt: '選択してください'}, {class: 'sell-main__form__select'}
            = icon('fas', 'chevron-down', alt: 'chevron-down',class: 'sell-main__form__select__arrow')

          .sell-main__form
            = f.label :shipping_date, "配送料の負担", class: "sell-main__form__label"
            %span.form-neccesary 必須
            = f.select :shipping_date, ['1~2日で発送', '2~３日で発送', '4〜７日で発送'], {include_blank: '---'}, class: 'sell-main__form__select'  
            = icon('fas', 'chevron-down', alt: 'chevron-down',class: 'sell-main__form__select__arrow')


    .sell-main__box
      .sell-main__box__inner
        .sell-main-title-top
          %h3.sell-main__title 販売価格（300〜9,999,999)
          = link_to "?", "#", class: "form__question" 
        %ul.sell-main__small-box
          %li.sell-main__sales-price
            .sell-main__price-form-label-box
              = f.label :price, "価格", class: "sell-main__price-form__label-box__label"
              %span.form-neccesary 必須
            .sell-main__price-from__input-box
              ¥

              = f.number_field :price, class: 'sell-main__price-form__input-box', placeholder: '例）300', id: "price"
          -# .sell-line
          -#   %li.sell-main__sales-price
          -#     %p.sell-main__price-form-label 販売手数料（１０％）
          -#     .sell-main__price-from__input-box
          -#       %input#margin-price{type: "text", name:"margin",   value: ""}>/
          -# %li.sell-main__sales-price
          -#   .sell-main__price-form-label-box
          -#     %p.sell-main__price-form-label 販売利益
          -#   .sell-main__price-from__input-box
          -#     %input#profit-price{type: "text", name: "profit", value: ""}>/


    .sell-main__box
      .sell-main__button-box
        .sell-main__bottom-caution
          %p.sell-main__button-box--description
            = link_to "禁止されている出品", "#", class: "sell-main__button-box--description--link"
          %p.sell-main__button-box--description 、
          %p.sell-main__button-box--description
            = link_to "行為", "#", class: "sell-main__button-box--description--link" 
          %p.sell-main__button-box--description を必ずご確認ください。
          %br
          %p.sell-main__button-box--description またブランド品でシリアルナンバー等がある場合はご記載ください。
          %p.sell-main__button-box--description   
            = link_to "偽ブランドの販売", "#", class: "sell-main__button-box--description--link"
          %p.sell-main__button-box--description は犯罪であり処罰される可能性があります。
          %br
          %p.sell-main__button-box--description また、出品をもちまして
          %p.sell-main__button-box--description   
            = link_to "加盟店規約", "#", class: "sell-main__button-box--description--link"
          %p.sell-main__button-box--description に同意したことになります
      = f.submit "出品する", class: 'sell-main__form__submit'
      = link_to "もどる", root_path, class: "sell-main__form__back-button" 
    